<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Quansight Labs site: blog, development and project overview">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quansight Labs</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://labs.quansight.org/">
<link rel="icon" href="favicon.ico" sizes="16x16">
<link rel="next" href="index-1.html" type="text/html">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
   tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"], ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
   },
   displayAlign: 'center', // Change this to 'center' to center equations.
   "HTML-CSS": {
       styles: {'.MathJax_Display': {"margin": 0}}
   }
});
</script><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="blog/2019/09/ruby-wrappers-for-the-xnd-project/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://labs.quansight.org/">

            <span id="blog-title">Quansight Labs</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item active">
<a href="." class="nav-link">Home <span class="sr-only">(active)</span></a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/" class="u-url">Ruby wrappers for the XND project</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/sameer-deshmukh-v0dro/">Sameer Deshmukh (@v0dro)</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/" rel="bookmark">
            <time class="published dt-published" datetime="2019-09-15T00:32:00-05:00" itemprop="datePublished" title="2019-09-15">2019-09-15</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-generate-toc again -->

<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#introduction">Introduction</a></li>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#ndtypes">Ndtypes</a><ul>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#usage">Usage</a><ul>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#basic-initialization">Basic initialization</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#concrete-vs-abstract-types">Concrete Vs. Abstract Types</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#typedefs">Typedefs</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#usage-via-the-c-api">Usage via The C API</a></li>
</ul>
</li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#implementation">Implementation</a></li>
</ul>
</li>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#xnd">Xnd</a><ul>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#basic-usage">Basic Usage</a><ul>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#data-type-support">Data Type Support</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#missing-values">Missing Values</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#usage-via-the-c-api">Usage via The C API</a></li>
</ul>
</li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#implementation">Implementation</a></li>
</ul>
</li>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#gumath">Gumath</a><ul>
<li>
<a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#usage">Usage</a><ul>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#usage-via-the-c-api">Usage via The C API</a></li>
</ul>
</li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#implementation">Implementation</a></li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#automatic-kernel-generation">Automatic Kernel Generation</a></li>
</ul>
</li>
<li><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/#conclusion-and-future-work">Conclusion and Future Work</a></li>
</ul>
<!-- markdown-toc end --><h2>Introduction</h2>
<p>Lack of stable and reliable scientific computing software has been a persistent problem
for the Ruby community, making it hard for enthusiastic Ruby developers to use Ruby in
everything from their web applications to their data analysis projects. One of the most important
components of any successful scientific software stack is a well maintained and flexible
array computation library that can act as a fast and simple way of storing in-memory data
and interfacing it with various fast and battle-tested libraries like LAPACK and BLAS.</p>
<p>Various projects have attempted to make such libraries in the past (and some are still thriving
and maintained). Some of the notable ones are <a href="https://github.com/ruby-numo">numo</a>, <a href="https://github.com/SciRuby/nmatrix">nmatrix</a>, and more recently, <a href="https://github.com/SciRuby/numruby">numruby</a>.
These projects attempt to provide a simple Ruby-like API for creating and manipulating arrays
of various types. All of them are able to easily interface with libraries like ATLAS, FFTW
and LAPACK.</p>
<p>However, all of the above projects fall short in two major aspects:</p>
<ul>
<li>Lack of extensibility to adapt to modern use cases (read Machine Learning).</li>
<li>Lack of a critical mass of developers to maintain a robust and fast array library.</li>
</ul>
<p>The first problem is mainly due to the fact that they do not support very robust type systems.
The available data types are limited and are hard to extend to more complex uses. Modern use cases like
Machine Learning require a more robust type system (i.e. defining array shapes of arbitrary dimension on multiple devices), as has been demonstrated by the tensor
implementations of various frameworks like Tensorflow and PyTorch.</p>
<p>The second problem is due to the fact that all of the aforementioned projects are community
efforts that are maintained part-time by developers simply out of a sense of purpose and
passion. Sustaining such complex projects for extended periods of time without expectation
of any support is simply unfeasible even for the most driven engineers.</p>
<p>This is where the XND project comes in. The <a href="https://xnd.io/">XND project</a> is a project for
building a common library that is able to meet the needs of the various data analysis and
machine learning frameworks that have had to build their own array objects and programming 
languages. It is built with the premise of extending arrays with new types and various 
device types (CPUs, GPUs etc.) without loss of performance and ease of use.</p>
<p class="more"><a href="blog/2019/09/ruby-wrappers-for-the-xnd-project/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/08/labs-dask-update/" class="u-url">Quansight Labs Dask Update</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/james-bourbeau/">James Bourbeau</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/08/labs-dask-update/" rel="bookmark">
            <time class="published dt-published" datetime="2019-08-27T00:00:00-05:00" itemprop="datePublished" title="2019-08-27">2019-08-27</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>This post provides an update on some recent <a href="https://dask.org/">Dask</a>-related activities the Quansight Labs team has been working on.</p>
<h3>Dask community work order</h3>
<p>Through a community work order (CWO) with <a href="https://www.deshaw.com/">the D. E. Shaw group</a>, the Quansight Labs team has been able to dedicate developer time towards bug fixes and feature requests for Dask. This work has touched on several portions of the Dask codebase, but generally have centered around using <a href="https://docs.dask.org/en/latest/array.html">Dask Arrays</a> with the <a href="https://distributed.dask.org/en/latest/">distributed scheduler</a>.
</p>
<p class="more"><a href="blog/2019/08/labs-dask-update/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/08/spyder-40-beta4-kite-integration-is-here/" class="u-url">Spyder 4.0 beta4: Kite integration is here</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/edgar-margffoy-tuay/">Edgar Margffoy-Tuay</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/08/spyder-40-beta4-kite-integration-is-here/" rel="bookmark">
            <time class="published dt-published" datetime="2019-08-16T14:19:13-05:00" itemprop="datePublished" title="2019-08-16">2019-08-16</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p><em><a href="https://kite.com">Kite</a> is sponsoring the work discussed in this blog post, and in addition supports Spyder 4.0 development through a Quansight Labs <a href="http://labs.quansight.org/blog/2019/05/community-driven-opensource-funded-development/">Community Work Order</a>.</em></p>
<p>As part of our next release, we are proud to announce an additional completion client for Spyder, Kite. <a href="https://kite.com/">Kite</a> is a novel completion client that uses Machine Learning techniques to find and predict the best autocompletion for a given text. Additionally, it collects improved documentation for compiled packages, i.e., Matplotlib, NumPy, SciPy that cannot be obtained easily by using traditional code analysis packages such as Jedi.</p>
<p><img alt="alt_text" src="images/spyder-kite-hover.png" title="image_tooltip"></p>
<p class="more"><a href="blog/2019/08/spyder-40-beta4-kite-integration-is-here/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/07/quansight-at-scipy2019/" class="u-url">Quansight presence at SciPy'19</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/ralf-gommers/">Ralf Gommers</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/07/quansight-at-scipy2019/" rel="bookmark">
            <time class="published dt-published" datetime="2019-07-15T00:00:00-05:00" itemprop="datePublished" title="2019-07-15">2019-07-15</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Yesterday the SciPy'19 conference ended. It was a lot of fun, and very productive. You can really feel that there's a lot of energy in the community, and that it's growing and maturing. This post is just a quick update to summarize Quansight's presence and contributions, as well as some of the more interesting things I noticed.</p>
<h3>A few highlights</h3>
<p>The "Open Source Communities" track, which had a strong emphasis on topics like burnout, diversity and sustainability, as well as the keynotes by Stuart Geiger ("<em>The Invisible Work of Maintaining and Sustaining Open-Source Software</em>") and Carol Willing ("<em>Jupyter: Always Open for Learning and Discovery</em>") showed that many more people and projects are paying more attention to and evolving their thinking on the human and organizational aspects of open source. </p>
<p>I did not go to many technical talks, but did make sure to catch Matt Rocklin's talk "<em>Refactoring the SciPy Ecosystem for Heterogeneous Computing</em>". Matt clearly explained some key issues and opportunities around the state of array computing libraries in Python - I highly recommend watching this talk.</p>
<p>Abigail Cabunoc Mayes' talk "<em>Work Open, Lead Open (#WOLO) for Sustainability</em>" was fascinating - it made me rethink the governance models and roles we use for our projects, and I worked on some of her concrete suggestions during the sprints.</p>
<p class="more"><a href="blog/2019/07/quansight-at-scipy2019/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/07/ibis-python-data-analysis-productivity-framework/" class="u-url">Ibis: Python data analysis productivity framework</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/ivan-ogasawara/">Ivan Ogasawara</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/07/ibis-python-data-analysis-productivity-framework/" rel="bookmark">
            <time class="published dt-published" datetime="2019-07-09T03:30:00Z" itemprop="datePublished" title="2019-07-09">2019-07-09</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ibis is a library pretty useful on data analysis tasks that provides a pandas-like API that allows operations like create filter, add columns, apply math operations etc in a <code>lazy</code> mode so all the operations are just registered in memory but not executed and when you want to get the result of the expression you created, Ibis compiles that and makes a request to the remote server (remote storage and execution systems like Hadoop components or SQL databases). Its goal is to simplify analytical workflows and make you more productive.</p>
<p>Ibis was created by <a href="https://github.com/wesm">Wes McKinney</a> and is mainly maintained by <a href="https://github.com/cpcloud">Phillip Cloud</a> and <a href="https://github.com/kszucs">Krisztián Szűcs</a>. Also, recently, I was invited to become a maintainer of the Ibis repository!</p>
<p>Maybe you are thinking: "why should I use Ibis?". Well, if you have any of the following issues, probably you should consider using Ibis in your analytical workflow!</p>
<ul>
<li>if you need to get data from a SQL database but you don't know much about SQL ...</li>
<li>if you create SQL statements manually using string and have a lot of <code>IF</code>'s in your code that compose specific parts of your SQL code (it could be pretty hard to maintain and it will makes your code pretty ugly) ...</li>
<li>if you need to handle data with a big volume ...</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="more"><a href="blog/2019/07/ibis-python-data-analysis-productivity-framework/">Read more…</a></p>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/" class="u-url">uarray update: API changes, overhead and comparison to __array_function__</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/hameer-abbasi/">Hameer Abbasi</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/" rel="bookmark">
            <time class="published dt-published" datetime="2019-07-03T06:36:54-05:00" itemprop="datePublished" title="2019-07-03">2019-07-03</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>uarray</code> is a generic override framework for objects and methods in Python. Since <a href="https://labs.quansight.org/blog/2019/04/uarray-intro/">my last <code>uarray</code> blogpost</a>, there have been plenty of developments, changes to the API and improvements to the overhead of the protocol. Let’s begin with a walk-through of the current feature set and API, and then move on to current developments and how it compares to <a href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/www.numpy.org/neps/nep-0018-array-function-protocol.html"><code>__array_function__</code></a>. For further details on the API and latest developments, please see <a href="https://uarray.readthedocs.io/en/latest/generated/uarray.html">the API page for <code>uarray</code></a>. The examples there are doctested, so they will always be current.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Motivation">Motivation<a class="anchor-link" href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/#Motivation">¶</a>
</h3>
<h4 id="Other-array-objects">Other array objects<a class="anchor-link" href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/#Other-array-objects">¶</a>
</h4>
<p>NumPy is a simple, rectangular, dense, and in-memory data store. This is great for some applications but isn't complete on its own. It doesn't encompass every single use-case. The following are examples of array objects available today that have different features and cater to a different kind of audience.</p>
<ul>
<li>Dask is one of the most popular ones. It allows distributed and chunked computation.</li>
<li>CuPy is another popular one, and allows GPU computation.</li>
<li>PyData/Sparse is slowly gaining popularity, and is a sparse, in-memory data store.</li>
<li>XArray includes named dimensions.</li>
<li>Xnd is another effort to re-write and modernise the NumPy API, and includes support for GPU arrays and ragged arrays.</li>
<li>Another effort (although with no Python wrapper, only data marshalling) is xtensor.</li>
</ul>
<p>Some of these objects can be composed. Namely, Dask both expects and exports the NumPy API, whereas XArray expects the NumPy API. This makes interesting combinations possible, such as distributed sparse or GPU arrays, or even labelled distributed sparse or CPU/GPU arrays.</p>
<p>Also, there are many other libraries (a popular one being scikit-learn) that need a back-end mechanism in order to be able to support different kinds of array objects. Finally, there is a desire to see SciPy itself gain support for other array objects.</p>
<h4 id="__array_function__-and-its-limitations">
<code>__array_function__</code> and its limitations<a class="anchor-link" href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/#__array_function__-and-its-limitations">¶</a>
</h4>
<p>One of my motivations for working on <code>uarray</code> were the limitations of the <code>__array_function__</code> protocol, defined in <a href="https://www.numpy.org/neps/nep-0018-array-function-protocol.html">this proposal</a>. The limitations are threefold:</p>
<ul>
<li>It can only dispatch on array objects.</li>
<li>Consequently, it can only dispatch on functions that <em>accept</em> array objects.</li>
<li>It has no mechanism for conversion and coercion.</li>
<li>Since it conflates arrays and backends, only a single backend type per array object is possible.</li>
</ul>
<p>These limitations have been <a href="https://github.com/numpy/numpy/issues/11129">partially</a> <a href="http://numpy-discussion.10968.n7.nabble.com/Allowing-broadcasting-of-code-dimensions-in-generalized-ufuncs-td45589.html">discussed</a> <a href="http://numpy-discussion.10968.n7.nabble.com/Proposal-to-accept-NEP-18-array-function-protocol-td46001.html">before</a>.</p>
<h3 id="uarray-—-The-solution?">
<code>uarray</code> — The solution?<a class="anchor-link" href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/#uarray-%E2%80%94-The-solution?">¶</a>
</h3>
<p>With that out of the way, let's explore <code>uarray</code>, a library that hopes to resolve these issues, and even though the original motivation was NumPy and array computing, the library itself is meant to be a generic multiple-dispatch mechanism.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Enable __array_function__ for NumPy &lt; 1.17.0</span>
<span class="o">!</span><span class="nb">export</span> <span class="nv">NUMPY_EXPERIMENTAL_ARRAY_FUNCTION</span><span class="o">=</span><span class="m">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">uarray</span> <span class="k">as</span> <span class="nn">ua</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In <code>uarray</code>, the fundamental building block is a multimethod. Multimethods have a number of nice properties, such as automatic dispatch based on backends. It is important to note here that multimethods will be written by API authors, rather than implementors. Here's how we define a multimethod in <code>uarray</code>:
</p>
<p class="more"><a href="blog/2019/07/uarray-update-api-changes-overhead-and-comparison-to-__array_function__/">Read more…</a></p>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/06/labs-update-may-highlights/" class="u-url">Labs update and May highlights</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/ralf-gommers/">Ralf Gommers</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/06/labs-update-may-highlights/" rel="bookmark">
            <time class="published dt-published" datetime="2019-06-12T00:00:00-05:00" itemprop="datePublished" title="2019-06-12">2019-06-12</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Time flies when you're having fun. Here is an update of some of the highlights
of my second month at Quansight Labs.</p>
<h3>The making of a black hole image &amp; GitHub Sponsors</h3>
<p>Both Travis and myself were invited by GitHub to attend GitHub Satellite in
Berlin. The main reason was that Nat Friedman (GitHub CEO) decided to spend the
first 20 minutes of his keynote to highlight the <a href="https://eventhorizontelescope.org/">Event Horizon
Telescope's</a> black hole image and the open
source software that made that imaging possible. This included the scientific
Python very prominently - NumPy, Matplotlib, Python, Cython, SciPy, AstroPy and
other projects were highlighted. At the same time, Nat introduced new GitHub
features like "used by", a triaging role and new dependency graph features and
illustrated how those worked for NumPy. These features will be very welcome
news to maintainers of almost any project.</p>
<p><img alt="GitHub Satellite'19 keynote, showcasing NumPy and Matplotlib" src="images/githubsatellite_keynote_numpy_matplotlib.png"></p>
<p>The single most visible feature introduced was <strong>GitHub Sponsors</strong>:</p>
<p><img alt="GitHub Sponsors enabled on the NumPy repo" src="images/github_sponsors_screenshot.png"></p>
<p>I really enjoyed meeting <a href="https://devonzuegel.com">Devon Zuegel</a>, Product
Manager of the Open Source Economy Team at GitHub, in person after previously
having had the chance to exchange ideas with her about the funding related
needs of scientific Python projects and their core teams. I'm confident that
GitHub Sponsors will evolve in a direction that's beneficial to
community-driven open source projects.</p>
<p class="more"><a href="blog/2019/06/labs-update-may-highlights/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/06/tdk-partners-with-quansight-labs/" class="u-url">TDK-Micronas partners with Quansight to sponsor Spyder</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/gonzalo-pena-castellanos/">Gonzalo Peña-Castellanos</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/06/tdk-partners-with-quansight-labs/" rel="bookmark">
            <time class="published dt-published" datetime="2019-06-02T00:00:00-05:00" itemprop="datePublished" title="2019-06-02">2019-06-02</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>TDK-Micronas is sponsoring Spyder development efforts through Quansight Labs.
This will enable the development of some features that have been requested by
our users, as well as new features that will help TDK develop custom Spyder
plugins in order to complement their Automatic Test Equipment (ATE’s) in the
development of their Application Specific Integrated Circuits (ASIC’s).</p>
<p>At this point it may be useful to clarify the relationship the role of
Quansight Labs in Spyder's development and the relationship with TDK. To quote
Ralf Gommers (director of Quansight Labs):</p>
<blockquote>
<p>"We're an R&amp;D lab for open source development of core technologies around data
science and scientific computing in Python. And focused on growing communities
around those technologies. That's how I see it for Spyder as well: Quansight
Labs enables developers to be employed to work on Spyder, and helps with
connecting them to developers of other projects in similar situations. Labs
should be an enabler to let the Spyder project, its community and individual
developers grow. And Labs provides mechanisms to attract and coordinate
funding. Of course the project is still independent. If there are other
funding sources, e.g. donations from individuals to Spyder via OpenCollective,
all the better."</p>
</blockquote>
<h3>Multiple Projects aka Workspaces</h3>
<p>In its current state Spyder can only handle one active project at a time.
Although in the past we had basic support for workspaces, it was never a fully
functional feature, so to ease development and simplify the user experience,
we decided to remove it in the 3.x series.</p>
<p class="more"><a href="blog/2019/06/tdk-partners-with-quansight-labs/">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/05/metadsl-dsl-framework/" class="u-url">metadsl: A Framework for Domain Specific Languages in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/saul-shanabrook/">Saul Shanabrook</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/05/metadsl-dsl-framework/" rel="bookmark">
            <time class="published dt-published" datetime="2019-05-31T00:00:00-05:00" itemprop="datePublished" title="2019-05-31">2019-05-31</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="metadsl:-A-Framework-for-Domain-Specific-Languages-in-Python">
<a href="https://github.com/quansight-labs/metadsl"><code>metadsl</code></a>: A Framework for Domain Specific Languages in Python<a class="anchor-link" href="blog/2019/05/metadsl-dsl-framework/#metadsl:-A-Framework-for-Domain-Specific-Languages-in-Python">¶</a>
</h2>
<p>Hello, my name is Saul Shanabrook and for the past year or so I have been at Quansight exploring the array computing ecosystem. This started with working on the <a href="https://xnd.io/">xnd project</a>, a set of low level primitives to help build cross platform NumPy-like APIs, and then <a href="https://github.com/saulshanabrook/moa">started</a> <a href="https://github.com/saulshanabrook/moa">exploring</a> Lenore Mullin's work on a mathematics of arrays. After spending quite a bit of time working on an integrated solution built on these concepts, I decided to step back to try to generalize and simplify the core concepts. The trickiest part was not actually compiling mathematical descriptions of array operations in Python, but figuring out how to make it useful to existing users. To do this, we need to meet users where they are at, which is with the APIs they are already familiar with, like <code>numpy</code>. The goal of <code>metadsl</code> is to make it easier to tackle parts of this problem seperately so that we can collaborate on tackling it together.</p>
<h3 id="Libraries-for-Scientific-Computing">Libraries for Scientific Computing<a class="anchor-link" href="blog/2019/05/metadsl-dsl-framework/#Libraries-for-Scientific-Computing">¶</a>
</h3>
<p>Much of the recent rise of Python's popularity is due to its usage for scientific computing and machine learning. This work is built on different frameworks, like Pandas, NumPy, Tensorflow, and scikit-learn. Each of these are meant to be used from Python, but have their own concepts and abstractions to learn on top of the core language, so we can look at them as Domain Specific Languages (DSLs). As the ecosystem has matured, we are now demanding more flexibility for how these languages are executed. Dask gives us a way to write Pandas or NumPy and execute it across many cores or computers, Ibis allows us to write Pandas but on a SQL database, with CuPy we can execute NumPy on our GPU, and with Numba we can optimize our NumPy expession on a CPU or GPU. These projects prove that it is possible to write optimizing compilers that target varying hardware paradigms for existing Python numeric APIs. However, this isn't straightforward and these projects success is a testament to the perserverence and ingenuity of the authors. We need to make it easy to add reusable optimizations to libraries like these, so that we can support the latest hardware and compiler optimizations from Python. <a href="https://github.com/quansight-labs/metadsl"><code>metadsl</code></a> is meant to be a place to come together to build a framework for DSLs in Python. It provides a way to seperate the user experience from the the specific of execution, to enable consistency and flexibility for users. In this post, I will go through an example of creating a very basic DSL. It will not use the <code>metadsl</code> library, but will created in the same style as <code>metadsl</code> to illustrate its basic principles.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p class="more"><a href="blog/2019/05/metadsl-dsl-framework/">Read more…</a></p>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="blog/2019/05/community-driven-opensource-funded-development/" class="u-url">Community-driven open source and funded development</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/ralf-gommers/">Ralf Gommers</a>
            </span></p>
            <p class="dateline">
            <a href="blog/2019/05/community-driven-opensource-funded-development/" rel="bookmark">
            <time class="published dt-published" datetime="2019-05-29T00:00:00-05:00" itemprop="datePublished" title="2019-05-29">2019-05-29</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Quansight Labs is an experiment for us in a way. One of our main aims is to
channel more resources into community-driven PyData projects, to keep them
healthy and accelerate their development. <em>And do so in a way that projects
themselves stay in charge.</em></p>
<p>This post explains one method we're starting to use for this. I'm writing it
to be transparent with projects, the wider community and potential funders
about what we're starting to do. As well as to explicitly solicit feedback on
this method.</p>
<h3>Community work orders</h3>
<p>If you talk to someone about supporting an open source project, in particular a
well-known one that they rely on (e.g. NumPy, Jupyter, Pandas), they're often
willing to listen and help. What you quickly learn though is that they want
to know in some detail what will be done with the funds provided. This is
true not only for companies, but also for individuals. In addition, companies
will likely want a written agreement and some form of reporting about the
progress of the work. To meet this need we came up with <em>community work
orders</em> (CWOs) - agreements that outline what work will be done on a project
(implementing new features, release management, improving documentation,
etc.) and outlining a reporting mechanism. What makes a CWO different from a
consulting contract? Key differences are:</p>
<ol>
<li>It must be work that is done on the open source project itself (and not e.g.
   on a plugin for it, or a customization for the client).</li>
<li>The developers must have a reasonable amount of freedom to decide what to
   work on and what the technical approach will be, within the broad scope of
   the agreement.</li>
<li>Deliverables cannot be guaranteed to end up in a project; instead the funder
   gets the promise of a best effort of implementation and working with the
   community.</li>
</ol>
<h3>Respecting community processes</h3>
<p>Point 3 above is particularly important: <em>we must respect how open source
projects make decisions</em>. If the project maintainers decide that they don't
want to include a particular change or new feature, that's their decision to
make. Any code change proposed as part of work on a CWO has to go through the
same review process as any other change, and be accepted on its merits. The
argument "but someone paid for this" isn't particularly strong, nor is one
that reviewers should have to care about. Now of course we don't expect it to
be common for work to be rejected. An important part of the Quansight value
proposition is that because we understand how open source works and many of
our developers are maintainers and contributors of the open source projects
already, we propose work that the community already has interest in and we
open the discussion about any major code change early to avoid issues.</p>
<p class="more"><a href="blog/2019/05/community-driven-opensource-funded-development/">Read more…</a></p>
</div>
    </div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="next"><a href="index-1.html" rel="next">Older posts</a></li>
        </ul>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
   tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"], ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
   },
   displayAlign: 'center', // Change this to 'center' to center equations.
   "HTML-CSS": {
       styles: {'.MathJax_Display': {"margin": 0}}
   }
});
</script><!--End of body content--><footer id="footer">
            Contents © 2019         <a href="mailto:info@quansight.com">Quansight Labs Team</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


        <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
